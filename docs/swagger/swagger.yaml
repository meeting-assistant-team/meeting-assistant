basePath: /v1
definitions:
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.ActionItemDTO:
    properties:
      assigned_to:
        type: string
      created_at:
        type: string
      description:
        type: string
      due_date:
        type: string
      id:
        type: string
      priority:
        description: low, medium, high, urgent
        type: string
      status:
        description: pending, in_progress, completed, cancelled
        type: string
      timestamp_in_meeting:
        type: integer
      title:
        type: string
      transcript_reference:
        type: string
      type:
        description: action, decision, question, follow_up
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.Chapter:
    properties:
      end:
        description: End time in milliseconds
        type: number
      gist:
        type: string
      headline:
        type: string
      start:
        description: Start time in milliseconds
        type: number
      summary:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.Decision:
    properties:
      decision_text:
        type: string
      impact:
        description: high, medium, low
        type: string
      owner:
        type: string
      timestamp_seconds:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.EngagementMetricsDTO:
    properties:
      engagement_score:
        description: 0-1
        type: number
      participant_balance_score:
        description: 0-1
        type: number
      total_speaking_time_seconds:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.KeyPoint:
    properties:
      importance:
        description: high, medium, low
        type: string
      mentioned_by:
        type: string
      text:
        type: string
      timestamp_seconds:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.MeetingSummaryResponse:
    properties:
      action_items:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.ActionItemDTO'
        type: array
      chapters:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.Chapter'
        type: array
      created_at:
        type: string
      decisions:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.Decision'
        type: array
      engagement_metrics:
        $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.EngagementMetricsDTO'
      executive_summary:
        type: string
      id:
        type: string
      key_points:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.KeyPoint'
        type: array
      key_questions:
        items:
          type: string
        type: array
      room_id:
        type: string
      sentiment_breakdown:
        additionalProperties: true
        type: object
      topics:
        items:
          type: string
        type: array
      transcript_id:
        type: string
      updated_at:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto.SummaryStatusResponse:
    properties:
      job_id:
        type: string
      message:
        type: string
      room_id:
        type: string
      status:
        description: pending, transcript_ready, summarizing, completed, failed
        type: string
      submitted_at:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_auth.UserResponse:
    properties:
      avatar_url:
        type: string
      created_at:
        type: string
      email:
        type: string
      email_verified:
        type: boolean
      id:
        type: string
      last_login_at:
        type: string
      meeting_preferences:
        additionalProperties: true
        type: object
      name:
        type: string
      notification_preferences:
        additionalProperties: true
        type: object
      oauth_provider:
        type: string
      updated_at:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.AcceptInvitationResponse:
    properties:
      livekit_token:
        type: string
      livekit_url:
        type: string
      message:
        type: string
      participant:
        $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantResponse'
      room:
        $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
      status:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.CreateRoomRequest:
    properties:
      description:
        type: string
      max_participants:
        maximum: 100
        minimum: 2
        type: integer
      name:
        maxLength: 255
        minLength: 1
        type: string
      scheduled_end_time:
        type: string
      scheduled_start_time:
        type: string
      settings:
        additionalProperties: true
        type: object
      type:
        enum:
        - public
        - private
        - scheduled
        type: string
    required:
    - max_participants
    - name
    - type
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.DenyParticipantRequest:
    properties:
      reason:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InvitationItem:
    properties:
      invited_at:
        type: string
      inviter_id:
        type: string
      inviter_name:
        type: string
      participant_id:
        type: string
      room_id:
        type: string
      room_name:
        type: string
      room_type:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InviteByEmailRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InviteByEmailResponse:
    properties:
      email:
        type: string
      message:
        type: string
      participant_id:
        type: string
      status:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.JoinRoomResponse:
    properties:
      livekit_token:
        description: Only for joined status
        type: string
      livekit_url:
        description: Only for joined status
        type: string
      message:
        description: User-friendly message
        type: string
      participant:
        allOf:
        - $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantResponse'
        description: Current user's participant record
      room:
        allOf:
        - $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
        description: Room information
      status:
        description: '"joined" or "waiting"'
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.MyInvitationsResponse:
    properties:
      invitations:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InvitationItem'
        type: array
      total:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantListResponse:
    properties:
      participants:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantResponse'
        type: array
      total:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantResponse:
    properties:
      can_mute_others:
        type: boolean
      can_record:
        type: boolean
      can_share_screen:
        type: boolean
      connection_quality:
        type: string
      created_at:
        type: string
      duration:
        type: integer
      id:
        type: string
      invited_at:
        type: string
      invited_by:
        description: User ID who invited
        type: string
      invited_email:
        description: For invited participants
        type: string
      is_hand_raised:
        type: boolean
      is_muted:
        type: boolean
      joined_at:
        type: string
      left_at:
        type: string
      role:
        type: string
      room_id:
        type: string
      status:
        type: string
      user:
        $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_auth.UserResponse'
      user_id:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantStatusResponse:
    properties:
      livekit_token:
        description: Only when status is "joined"
        type: string
      livekit_url:
        description: Only when status is "joined"
        type: string
      message:
        description: User-friendly message
        type: string
      participant:
        allOf:
        - $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantResponse'
        description: Current user's participant record
      room:
        allOf:
        - $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
        description: Room information
      status:
        description: '"waiting", "joined", "denied", etc.'
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RemoveParticipantRequest:
    properties:
      reason:
        maxLength: 500
        minLength: 1
        type: string
    required:
    - reason
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomListResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      rooms:
        items:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
        type: array
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse:
    properties:
      created_at:
        type: string
      current_participants:
        type: integer
      description:
        type: string
      duration:
        type: integer
      ended_at:
        type: string
      host:
        $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_auth.UserResponse'
      host_id:
        type: string
      id:
        type: string
      livekit_room_name:
        type: string
      max_participants:
        type: integer
      name:
        type: string
      scheduled_end_time:
        type: string
      scheduled_start_time:
        type: string
      settings:
        additionalProperties: true
        type: object
      slug:
        type: string
      started_at:
        type: string
      status:
        type: string
      type:
        type: string
      updated_at:
        type: string
    type: object
  github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.TransferHostRequest:
    properties:
      new_host_id:
        type: string
    required:
    - new_host_id
    type: object
host: api-meeting.infoquang.id.vn
info:
  contact:
    email: support@infoquang.id.vn
    name: API Support
    url: https://api-meeting.infoquang.id.vn/support
  description: API for Meeting Assistant application with OAuth, room management,
    and LiveKit integration
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: https://api-meeting.infoquang.id.vn/terms
  title: Meeting Assistant API
  version: "1.0"
paths:
  /auth/google/callback:
    get:
      description: Processes the OAuth callback from Google and sets a HttpOnly session
        cookie. Redirects to frontend callback URL configured in FrontendURL setting.
      parameters:
      - description: Authorization code from Google
        in: query
        name: code
        required: true
        type: string
      - description: State parameter for CSRF protection
        in: query
        name: state
        required: true
        type: string
      produces:
      - application/json
      responses:
        "307":
          description: Redirect to frontend callback URL with session_id HttpOnly
            cookie
          schema:
            type: string
        "400":
          description: Missing code or state parameter
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Authentication failed - invalid code or state
          schema:
            additionalProperties: true
            type: object
      summary: Handle Google OAuth callback
      tags:
      - Authentication
  /auth/google/login:
    get:
      description: Redirects user to Google OAuth consent screen. State stored in-memory
        (15 min expiry) and as HttpOnly cookie (CSRF protection).
      produces:
      - application/json
      responses:
        "307":
          description: Redirect to Google OAuth consent page
          schema:
            type: string
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Initiate Google OAuth login
      tags:
      - Authentication
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Invalidates the session and logs out the user. Supports session_id
        cookie (preferred) or refresh_token in body (backwards compatibility).
      parameters:
      - description: Refresh token (optional, only for backwards compatibility)
        in: body
        name: request
        schema:
          properties:
            refresh_token:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Logged out successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Missing session or invalid token
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to logout
          schema:
            additionalProperties: true
            type: object
      summary: Logout user
      tags:
      - Authentication
  /auth/me:
    get:
      description: Returns the authenticated user's information. Supports Authorization
        header (Bearer) or session cookie.
      produces:
      - application/json
      responses:
        "200":
          description: User information
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_auth.UserResponse'
        "401":
          description: Missing or invalid token/session
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - Authentication
  /auth/refresh:
    post:
      description: Gets a new access token using session_id from HttpOnly cookie or
        header. No request body needed.
      parameters:
      - description: Session ID (alternative to cookie)
        in: header
        name: session_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Token refreshed successfully with access_token and expires_in
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid or missing session_id
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Failed to refresh token
          schema:
            additionalProperties: true
            type: object
      summary: Refresh access token
      tags:
      - Authentication
  /auth/test/token:
    post:
      consumes:
      - application/json
      description: Generates a test JWT token for testing API with Postman. ONLY for
        development/testing. Use OAuth flow in production.
      parameters:
      - description: 'User email (optional, default: test@example.com)'
        in: body
        name: request
        schema:
          properties:
            email:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: access_token, expires_in
          schema:
            additionalProperties: true
            type: object
      summary: Generate test JWT token (Development Only)
      tags:
      - Authentication
  /invitations/me:
    get:
      description: Retrieves all room invitations sent to the current user's email
      produces:
      - application/json
      responses:
        "200":
          description: List of invitations
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.MyInvitationsResponse'
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get invitations
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get my invitations
      tags:
      - Invitations
  /meetings/{id}/process-ai:
    post:
      consumes:
      - application/json
      description: |-
        Manually triggers AI processing (transcription and analysis) for a meeting recording

        **Use cases:**
        - Testing AI pipeline without recording a live meeting
        - Reprocessing a meeting with updated AI prompts
        - Recovery when automatic processing failed
        - Host requesting re-analysis with custom parameters (future enhancement)

        **Note:** In production, AI processing is automatically triggered when a meeting ends via LiveKit webhook.
        This endpoint is primarily for manual intervention, testing, and future custom processing features.
      parameters:
      - description: Meeting ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Recording URL for processing
        in: body
        name: request
        required: true
        schema:
          properties:
            recording_url:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Processing started successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing recording_url or invalid meeting ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to start processing
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Manually trigger AI processing
      tags:
      - AI
  /meetings/{id}/summary:
    get:
      description: |-
        Retrieves the comprehensive AI-generated meeting summary with analysis

        **Response includes:**
        - Executive summary (2-3 sentence overview)
        - Key points with timestamps and importance levels
        - Decisions made with owners and impact assessment
        - Topics discussed (main themes ordered by importance)
        - Key questions raised (important questions including unanswered ones)
        - Chapters & Topics (auto-generated meeting sections from AssemblyAI)
        - Action items with assignments, priorities, and due dates
        - Sentiment analysis (overall and per-speaker breakdown)
        - Engagement metrics (speaking time, participation balance)

        **Status codes:**
        - 200: Summary available and returned
        - 202: Summary is being generated (check back later)
        - 404: Meeting not found or no recording available
      parameters:
      - description: Meeting/Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Meeting summary retrieved successfully
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.MeetingSummaryResponse'
        "202":
          description: Summary is being generated
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto.SummaryStatusResponse'
        "400":
          description: Invalid room ID format
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Meeting not found or no transcript available
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to retrieve summary
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get meeting AI summary
      tags:
      - Meetings
  /rooms:
    get:
      description: Gets a paginated list of rooms with optional filters
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 20)'
        in: query
        name: page_size
        type: integer
      - description: Room type filter (public/private/scheduled)
        in: query
        name: type
        type: string
      - description: Room status filter (scheduled/active/ended/cancelled)
        in: query
        name: status
        type: string
      - description: Search by room name
        in: query
        name: search
        type: string
      - description: Filter by tags
        in: query
        name: tags
        type: array
      - description: Sort field (created_at/start_time/participant_count)
        in: query
        name: sort_by
        type: string
      - description: Sort order (asc/desc)
        in: query
        name: sort_order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of rooms
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomListResponse'
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list rooms
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: List rooms
      tags:
      - Rooms
    post:
      consumes:
      - application/json
      description: Creates a new meeting room with specified settings
      parameters:
      - description: Room creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.CreateRoomRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Room created successfully
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
        "400":
          description: Invalid request or validation failed
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to create room
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Create a new room
      tags:
      - Rooms
  /rooms/{id}:
    get:
      description: Gets detailed information about a specific room
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Room details
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RoomResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Room not found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get room details
      tags:
      - Rooms
    patch:
      description: Ends a room session (host only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Room ended successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to end room
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: End a room
      tags:
      - Rooms
  /rooms/{id}/host:
    patch:
      consumes:
      - application/json
      description: Transfers the host role to another participant (host only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: New host user ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.TransferHostRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Host transferred successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room ID, new host ID, or new host is not a participant
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to transfer host
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Transfer host role
      tags:
      - Participants
  /rooms/{id}/invitations:
    get:
      description: Retrieves all invitations for a room (host only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of invitations
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantListResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get invitations
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get room invitations
      tags:
      - Invitations
    post:
      consumes:
      - application/json
      description: Allows the host to invite a user to join the room by providing
        their email
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Email of user to invite
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InviteByEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Invitation sent successfully
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.InviteByEmailResponse'
        "400":
          description: Invalid request
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "409":
          description: User already invited
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to send invitation
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Invite user by email
      tags:
      - Invitations
  /rooms/{id}/invitations/accept:
    post:
      description: Accepts an invitation to join a room
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully joined room
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.AcceptInvitationResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Invitation not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to accept invitation
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Accept invitation
      tags:
      - Invitations
  /rooms/{id}/invitations/decline:
    post:
      description: Declines an invitation to join a room
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Invitation declined
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Invitation not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to decline invitation
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Decline invitation
      tags:
      - Invitations
  /rooms/{id}/participants:
    get:
      description: Gets a list of all participants in a room
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of participants
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantListResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get participants
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get room participants
      tags:
      - Participants
    post:
      consumes:
      - application/json
      description: Allows a user to join an existing room and get LiveKit credentials
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully joined room with LiveKit credentials
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.JoinRoomResponse'
        "400":
          description: Invalid room ID or room is full
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "409":
          description: User already in room
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to join room
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Join a room
      tags:
      - Rooms
  /rooms/{id}/participants/{pid}:
    delete:
      consumes:
      - application/json
      description: Removes a participant from the room (host/co-host only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Participant ID (UUID)
        in: path
        name: pid
        required: true
        type: string
      - description: Reason for removal
        in: body
        name: request
        schema:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.RemoveParticipantRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Participant removed successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room or participant ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to remove participant
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Remove a participant
      tags:
      - Participants
  /rooms/{id}/participants/{pid}/admit:
    post:
      description: Admits a waiting participant to join the room (host only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Participant ID (UUID)
        in: path
        name: pid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Participant admitted successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room or participant ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to admit participant
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Admit participant
      tags:
      - Participants
  /rooms/{id}/participants/{pid}/block:
    post:
      description: |-
        Permanently blocks a participant from joining the room (hard block - user cannot join again)
        Note: This is different from deny - blocked users cannot request to join again
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Participant ID (UUID)
        in: path
        name: pid
        required: true
        type: string
      - description: Block reason (optional)
        in: body
        name: request
        schema:
          $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.DenyParticipantRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Participant blocked permanently
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room or participant ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to block participant
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Block participant permanently
      tags:
      - Rooms
  /rooms/{id}/participants/{pid}/deny:
    post:
      description: |-
        Denies a waiting participant from joining the room (soft rejection - user can try joining again)
        Note: This removes the waiting request. For permanent blocking, use the block endpoint instead.
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Participant ID (UUID)
        in: path
        name: pid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Participant denied successfully (can request to join again)
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room or participant ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to deny participant
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Deny participant
      tags:
      - Rooms
  /rooms/{id}/participants/me:
    delete:
      description: Allows a user to leave a room they are currently in
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully left the room
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to leave room
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Leave a room
      tags:
      - Rooms
  /rooms/{id}/participants/me/status:
    get:
      description: |-
        Allows users to check their participant status and receive token when admitted
        This is used for polling while waiting in the waiting room
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Current participant status
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantStatusResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Participant record not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get status
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get my participant status (polling endpoint)
      tags:
      - Participants
  /rooms/{id}/participants/waiting:
    get:
      description: Gets a list of participants waiting for approval in a room (host
        only)
      parameters:
      - description: Room ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of waiting participants
          schema:
            $ref: '#/definitions/github_com_johnquangdev_meeting-assistant_internal_adapter_dto_room.ParticipantListResponse'
        "400":
          description: Invalid room ID
          schema:
            additionalProperties: true
            type: object
        "401":
          description: User not authenticated
          schema:
            additionalProperties: true
            type: object
        "403":
          description: User is not the host
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get waiting participants
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get waiting participants
      tags:
      - Participants
  /test/storage/download-url:
    get:
      description: Generate a presigned URL for downloading a file from MinIO
      parameters:
      - description: File path/name in bucket
        in: query
        name: file
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Download URL
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Missing file parameter
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to generate URL
          schema:
            additionalProperties: true
            type: object
      summary: Generate download URL
      tags:
      - Storage Test
  /test/storage/files:
    get:
      description: List all files in the MinIO bucket with optional prefix filter
      parameters:
      - description: File prefix filter
        in: query
        name: prefix
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: File list
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to list files
          schema:
            additionalProperties: true
            type: object
      summary: List files in MinIO bucket
      tags:
      - Storage Test
  /test/storage/info:
    get:
      description: Get information about the MinIO bucket and connection status
      produces:
      - application/json
      responses:
        "200":
          description: Bucket info
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Failed to get bucket info
          schema:
            additionalProperties: true
            type: object
      summary: Test MinIO bucket info
      tags:
      - Storage Test
  /test/storage/upload:
    post:
      description: Test uploading a text file to MinIO to verify connection and credentials
      produces:
      - application/json
      responses:
        "200":
          description: Upload successful
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Upload failed
          schema:
            additionalProperties: true
            type: object
      summary: Test MinIO upload
      tags:
      - Storage Test
  /webhooks/assemblyai:
    post:
      consumes:
      - application/json
      description: Receives webhook events from AssemblyAI when transcription completes
      parameters:
      - description: Signature header for webhook verification
        in: header
        name: x-assemblyai-signature
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Webhook processed
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid payload
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Webhook processing failed
          schema:
            additionalProperties: true
            type: object
      summary: AssemblyAI Webhook
      tags:
      - Webhooks
  /webhooks/livekit:
    post:
      consumes:
      - application/json
      description: Receives webhook events from LiveKit server with JWT signature
        validation
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      summary: LiveKit Webhook
      tags:
      - Webhooks
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
